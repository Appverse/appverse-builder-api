package org.appverse.builder.build.comand;

import org.appverse.builder.web.rest.dto.BuildAgentDTO;
import org.appverse.builder.web.rest.dto.BuildRequestDTO;

/**
 * Created by panthro on 19/01/16.
 */
public interface BuildCommandBuilder<T extends BuildCommand> {

    String BEFORE_BUILD = "before_build";

    String SCRIPT = "script";

    String IMAGE_NAME = "imageName";

    /**
     * Build the command based on the request parameters
     *
     * @return
     */
    T buildCommand(BuildAgentDTO buildAgent, BuildRequestDTO buildRequest);

    /**
     * Whether or not the given agent can run the commands generated by this builder
     *
     * @param agentDTO
     * @return
     */
    boolean agentSupports(BuildAgentDTO agentDTO);

    /**
     * Whether or not this builder can build commands to execute teh given buildRequest
     *
     * @param buildRequest
     * @return
     */
    boolean canBuildForRequest(BuildRequestDTO buildRequest);

}
